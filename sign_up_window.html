<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
    <link rel="icon" href="amul_logo.png">
    <link rel="stylesheet" href="signup_window.css">
</head>
<body>
    <nav>
        <h1 style="margin-left: 60px; font-size: 40px;margin-top: 25px;font-family: cursive;" ></h1>
        <ul>
            <img src="log_mera.jpeg" alt="" height="147px" width="147px" style="float: left; border-radius: 50%; margin-top: -12px; margin-left: -1px;">
           <a href="Login_window.html" id="nav_btn1"  title="Click here to redirect to login page" onmouseover="document.getElementById('drop_down').style.display = 'block';" > <li class="li1"><b> Login/Signup</b></li></a>
           <a href="index.html" id="nav_btn3" title="get back to home page"><li class="li3"><b>Home</b></li></a>
                
        </ul>
    </nav>

    <div id="next_step" style="display: none;">
   
        <p style="margin-left: 0cm;font-size: 20px;text-align: center;margin-top: 5px;">CLICK  <a href="Login_window.html" id="here"> here </a> to redirect to login page</p>
    </div>

    <br><br><br>  

         
            <fieldset style="background-color: black; width: 400px; margin: auto; margin-top: 4cm;" id="form">
                <legend style="background-color: orange; border: solid 0.2cm brown; margin-left: 4cm;">Personal Info</legend>
            <div style="background-color: gray; width: 400px; padding: 8px; margin-left: 0%; margin-top: 10px;">
            <form action="" autocomplete="on" style="background-color: gray; width: 400px;" id="contactForm">
            
            
                <label for="username" style="background: none;">username :: </label>
                <input type="username" id="username" style="margin-left:  40px;background-color: white;" required> <br> <br>
            
                
                <label for="email" style="background: none;">email :: </label>
                <input type="email" id="email" style="margin-left:  65px;background-color: white;" required> <br> <br>
            
            <label for="Pass" style="background-color: gray;">Enter password ::</label>
            <input type="password" name="pass" id="Pass" style="margin-left: 2px; background-color: white;" required><br> <br>
        
            <button type="submit" value="submit" id="signin" title="Click to sign-in">Sign up</button>

            <br><br>
                    

        </form></div></fieldset>
           <script type="module">
           
           document.getElementById("contactForm").addEventListener('submit',(event)=>{
            event.preventDefault()
           })   

            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js";
            import { getDatabase } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-database.js";
            import { getAuth, createUserWithEmailAndPassword,} from "https://www.gstatic.com/firebasejs/9.17.2/firebase-auth.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
                apiKey: "AIzaSyBf_inD4Hqb2zqkmCuha69YEEgZ0EvSdDI",
    authDomain: "canteen-live-status-65e71.firebaseapp.com",
    databaseURL: "https://canteen-live-status-65e71-default-rtdb.firebaseio.com",
    projectId: "canteen-live-status-65e71",
    storageBucket: "canteen-live-status-65e71.appspot.com",
    messagingSenderId: "427128725985",
    appId: "1:427128725985:web:161d9f41d3e126af35b2a0",
    measurementId: "G-YH01SPNTT2"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const database = getDatabase(app);
            const auth= getAuth();
            
    
    signin.addEventListener('click', (e)=>{
    var username_ = document.getElementById('username').value;
    var email_ = document.getElementById('email').value;
    var Pass_ = document.getElementById('Pass').value;


    createUserWithEmailAndPassword(auth, email_, Pass_, username_)
  .then((userCredential) => {
    // Signed in 
    var user = userCredential.user;
     alert('user created');
     document.getElementById('next_step').style.display = 'block';
     document.getElementById('form').style.display = 'none';
         // ...
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    alert(error.code);

})}
)
</script>
</body>
</html>